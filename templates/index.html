<html> 
 
	<head> 
		<meta name="description" content="Create a signature for forums, emails and web pages." /> 

		<title>Flickr Signature Generator</title> 
	
		<style type="text/css"> 
			body { 
				font-family: Verdana, Tahoma;
				font-size: 14px;
				line-height: 20px;
				color: #333;
				background: #def;
				}

			#wrap { 
				width: 710px;
				margin: 30px auto; 
				background: #fff;
				padding: 10px 30px;
				-moz-border-radius:10px;
				-webkit-border-radius: 10px;
				border-radius: 10px;
				-moz-box-shadow: 3px 3px 3px #666;
				-webkit-box-shadow: 3px 3px 3px #666;
				box-shadow: 3px 3px 5px #666;
				}
	
			#preview { 
				margin: 0 auto;
				text-align: center;
								
			}

			h1 {
				font-size: 42px;
				font-family: Verdana, Tahoma;
				text-shadow: 2px 2px 4px #bbb;
				text-align:center;
			}



			textarea { 
				width: 100%; 
				height: 100px;
			}

			#latest {
				width: 25px;
			}
			#username {
				width: 450px;
			}

		.generate {
			-moz-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
			-webkit-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
			box-shadow:inset 0px 1px 0px 0px #bbdaf7;
			background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #79bbff), color-stop(1, #378de5) );
			background:-moz-linear-gradient( center top, #79bbff 5%, #378de5 100% );
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#79bbff', endColorstr='#378de5');
			background-color:#79bbff;
			-moz-border-radius:6px;
			-webkit-border-radius:6px;
			border-radius:6px;
			border:1px solid #84bbf3;
			display:inline-block;
			color:#ffffff;
			font-family:arial;
			font-size:15px;
			font-weight:bold;
			padding:6px 77px;
			text-decoration:none;
			text-shadow:1px 1px 0px #528ecc;
			cursor: pointer;
		}
		.generate:hover {
			background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #378de5), color-stop(1, #79bbff) );
			background:-moz-linear-gradient( center top, #378de5 5%, #79bbff 100% );
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#378de5', endColorstr='#79bbff');
			background-color:#378de5;
		}.generate:active {
			position:relative;
			top:1px;
		}

		#generateDiv {
			margin: 0 auto;
			text-align: center;
		}

		p.tiny {
			font-size: 10px;
		}
		</style>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

		<script type="text/javascript">

			var domain = '{{ domain }}';

			$(document).ready(function() {
		
					$('textarea, input').live('focus mouseup', function(e) {
					if (e.type == 'focusin') {
					this.select();
					}

					if (e.type == 'mouseup') {
					return false;
					}
					});

					$('#generate').click( function() { generateSignature(); } );
			});

			function generateSignature() { 
				$('#htmlcode').val('');
				$('#bbcode').val('');
				$('#preview').html('');

				var username = $('#username').val();
				
				if (! $.trim(username) == '') {
					var nsidUrl = 'http://' +  domain + '/nsid/' + $('#username').val();
					$.get(nsidUrl, function(data) {
						generateSignatureFor(data);
					});
				}
				else
				{
					alert('Please fill in a username');
					return;
				}
			}



			function generateSignatureFor(username){

				var latest = $('#latest').val();
				var sortby = $('#sort').val();
				var size = $('#size').val();
				var linkto = $('#linkto').val();
				var overallAnchorStart = '';
				var overallAnchorEnd = '';
				var overallUrlStart = '';
				var overallUrlEnd = '';
				var individualLinks = false;

				switch(linkto){
					case '2':
						overallAnchorStart = '<a href=\"http://www.flickr.com/photos/' + username + '\">';
						overallAnchorEnd = '</a>';
						overallUrlStart = '[url=http://www.flickr.com/photos/' + username + ']';
						overallUrlEnd = '[/url]';
						break;
					case '1':
						individualLinks = true;
						break;
						
				}

				var htmlCode;
				var bbCode;
				htmlCode = overallAnchorStart;	
				bbCode = overallUrlStart;

				for(i = 1; i <= latest; i++){
					if(individualLinks){
						var link = 'http://' + domain + '/url/' + username + '/' + i + '/' + sortby;
						htmlCode += '<a href=\"' + link + '\">';
						bbCode += '[url=' + link + ']';
					}

					var imgSrc = 'http://' + domain + '/img/' + username + '/' + i + '/' + size + '/' + sortby;
					htmlCode += '<img src=\"' + imgSrc + '\" />';
					bbCode += '[img]' + imgSrc + '[/img]';

					if(individualLinks){
						htmlCode += '</a>';
						bbCode += '[/url]';
					}

				}

				htmlCode += overallAnchorEnd;

				//Cleanup, replace //" and //[
				htmlCode = htmlCode.replace(/\/\/"/g, '"');
				htmlCode = htmlCode.replace(/\/"/g, '"');
				bbCode = bbCode.replace(/\/\/\[/g, "[");
				bbCode = bbCode.replace(/\/\[/g, "[");
				bbCode = bbCode.replace(/\/\]/g, "]");

				$('#htmlcode').val(htmlCode);
				$('#bbcode').val(bbCode);
				$('#preview').html(htmlCode);
			}
		
		</script>

	</head> 
	 
	<body> 
	 
		<div id="wrap"> 
		 
			 <div> 
		   		<h1><span style="color: #0063DC;">Flick</span><span style="color: #FF0084">r</span> Signature Generator</h1>
				<p>Use this page to create a Flickr signature to use on forums, message boards, web pages and emails.  The photos will <strong>update automatically</strong> as you upload new photos or other photos become more popular.</p>

				<p>My flickr photostream is at
					<input type="text" id="username" value="http://www.flickr.com/photos/mendhak/" /> 
				</p>
					Get the 
					<input type="text" id="latest" maxlength="2" value="5" /> 
					<select id="sort">
						<option value="">latest</option>
						<option value="p">most popular</option>
					</select>
					photos as 
					<select id="size">
						<option value="s">small squares</option>
						<option value="t">thumbnails</option>
						<option value="m">small</option>
						<option value="">medium</option>
						<option value="z">medium 640</option>
						<option value="b">large</option>
					</select>
				and link to
					<select id="linkto">
						<option value="1">their photo page</option>
						<option value="2">my photostream</option>
						<option value="3">nothing</option>
					</select>
				</p>
				<div id="generateDiv">
					<a class="generate" id="generate">Generate</a>			
				</div>
				<br />
				<p class="tiny">HTML code (web pages, emails):
					<textarea id="htmlcode"><a href="http://{{ domain }}/url/69135870@N00/1"><img src="http://{{ domain }}/img/69135870@N00/1/s" /></a><a href="http://{{ domain }}/url/69135870@N00/2"><img src="http://{{ domain }}/img/69135870@N00/2/s" /></a><a href="http://{{ domain }}/url/69135870@N00/3"><img src="http://{{ domain }}/img/69135870@N00/3/s" /></a><a href="http://{{ domain }}/url/69135870@N00/4"><img src="http://{{ domain }}/img/69135870@N00/4/s" /></a><a href="http://{{ domain }}/url/69135870@N00/5"><img src="http://{{ domain }}/img/69135870@N00/5/s" /></a></textarea>
				</p>
				<p class="tiny">BB code (message boards, forums):
					<textarea id="bbcode">[url=http://{{ domain }}/url/69135870@N00/1][img]http://{{ domain }}/img/69135870@N00/1/s[/img][/url][url=http://{{ domain }}/url/69135870@N00/2][img]http://{{ domain }}/img/69135870@N00/2/s[/img][/url][url=http://{{ domain }}/url/69135870@N00/3][img]http://{{ domain }}/img/69135870@N00/3/s[/img][/url][url=http://{{ domain }}/url/69135870@N00/4][img]http://{{ domain }}/img/69135870@N00/4/s[/img][/url][url=http://{{ domain }}/url/69135870@N00/5][img]http://{{ domain }}/img/69135870@N00/5/s[/img][/url]</textarea>
				</p>
				<br />
				
			 </div> 
		 
		</div> 
		
		<div id="preview">
			
				<a href="http://{{ domain }}/url/69135870@N00/1/"><img src="http://{{ domain }}/img/69135870@N00/1/s/" /></a><a href="http://{{ domain }}/url/69135870@N00/2/"><img src="http://{{ domain }}/img/69135870@N00/2/s/" /></a><a href="http://{{ domain }}/url/69135870@N00/3/"><img src="http://{{ domain }}/img/69135870@N00/3/s/" /></a><a href="http://{{ domain }}/url/69135870@N00/4/"><img src="http://{{ domain }}/img/69135870@N00/4/s/" /></a><a href="http://{{ domain }}/url/69135870@N00/5/"><img src="http://{{ domain }}/img/69135870@N00/5/s/" /></a>
			
		</div>

<span style="float:right;top:0;right:0;position:absolute;"><a href="https://github.com/mendhak/Easy-Flickr-URL"><img src="http://aux.iconpedia.net/uploads/123006687313411117.png" alt="Source code" title="Source code" /></a></span>

	</body> 
</html> 

